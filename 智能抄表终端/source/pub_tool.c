#include "pub_tool.h"

/**********************************************************************
函数名称:   Dec_2_BCD
功能:       将十进制数据转换为 BCD 码
**********************************************************************/
u8	Dec_2_BCD(u8  dec)
{
	u8 bcd;
	bcd = (dec/10)*16  + (dec%10);
	return bcd;
}
/**********************************************************************
函数名称:   BCD_2_Dec
功能:       将BCD码转换为 十进制数据
**********************************************************************/
u8	BCD_2_Dec(u8 bcd)
{
	u8 dec;
	dec = ((bcd>>4)&0x0F)*10 + (bcd&0x0F);
	return dec;
}
/**********************************************************************
函数名称:   BCD_Inc
功能:       将BCD码加1  (假设参数 bcd 不超过0x99)
**********************************************************************/
u8	BCD_Inc(u8 bcd)
{
	u8 New_Bcd;
	if((bcd&0x0F)<0x09)
		{
			New_Bcd = bcd+1;	
		}
	else
	{
		if(((bcd>>4)&0x0F)>=0x09)
		{
			New_Bcd = 0x00;
		}
		else
		{
			New_Bcd = (bcd +0x10)&0xF0;
		}
	}
	return New_Bcd;
}
